<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Saludo App</title>
</head>
<body>
  <h1>Bienvenido a la App de Saludo</h1>

  <!-- Formulario principal -->
  <form id="miForm" method="GET" action="/hola" style="margin-bottom: 20px;">
    <label for="nombre">Ingrese su nombre:</label>
    <input type="text" id="nombre" name="nombre" required />

    <!-- Botón para enviar a HelloServlet -->
    <button type="submit">Saludar</button>
    <!-- Botón que cambia el method a PUT y ejecuta el guardarnombre -->  
    <button type="button" onclick="guardarNombre()">Guardar</button>
</form>

  <hr />
  
  <script>
  function guardarNombre() {
    const nombre = document.getElementById("nombre").value;
    if (!nombre) {
    alert("Debe ingresar un nombre primero.");
    return;
    }
    const form = document.getElementById("miForm");
    const originalMethod = form.method; // Guarda el método original (GET)
    const originalAction = form.action; // Guarda la acción original (/hola)
    // Cambia temporalmente a POST /guardar
    form.method = "POST"; // Cambia el método a POST
    form.action = "/guardar"; // Cambia la accion 
    form.submit(); // Envía el formulario
    // Restaura los valores originales (opcional, pero recomendado)
    form.method = originalMethod;
    form.action = originalAction;
  }
</script>

</body>
</html>
